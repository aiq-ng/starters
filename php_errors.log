[19-Oct-2024 15:22:28 UTC] PHP Fatal error:  Uncaught Error: Class "Dotenv\Dotenv\Dotenv" not found in /home/odun/starters/db.php:19
Stack trace:
#0 /home/odun/starters/Model/user.php(9): Database->__construct()
#1 /home/odun/starters/Controllers/auth.php(12): User->__construct()
#2 /home/odun/starters/Routes/api.php(8): AuthController->__construct()
#3 /home/odun/starters/index.php(7): require_once('...')
#4 {main}
  thrown in /home/odun/starters/db.php on line 19
[19-Oct-2024 15:24:41 UTC] PHP Warning:  require_once(/home/odun/startersvendor/autoload.php): Failed to open stream: No such file or directory in /home/odun/starters/db.php on line 3
[19-Oct-2024 15:24:41 UTC] PHP Fatal error:  Uncaught Error: Failed opening required '/home/odun/startersvendor/autoload.php' (include_path='.:/usr/share/php') in /home/odun/starters/db.php:3
Stack trace:
#0 /home/odun/starters/Model/user.php(2): require_once()
#1 /home/odun/starters/Controllers/auth.php(3): require_once('...')
#2 /home/odun/starters/Routes/api.php(2): require_once('...')
#3 /home/odun/starters/index.php(7): require_once('...')
#4 {main}
  thrown in /home/odun/starters/db.php on line 3
[19-Oct-2024 15:25:00 UTC] PHP Fatal error:  Uncaught Error: Class "Dotenv\Dotenv\Dotenv" not found in /home/odun/starters/db.php:20
Stack trace:
#0 /home/odun/starters/Model/user.php(9): Database->__construct()
#1 /home/odun/starters/Controllers/auth.php(12): User->__construct()
#2 /home/odun/starters/Routes/api.php(8): AuthController->__construct()
#3 /home/odun/starters/index.php(7): require_once('...')
#4 {main}
  thrown in /home/odun/starters/db.php on line 20
[19-Oct-2024 15:41:02 UTC] PHP Warning:  file_get_contents(/home/odun/starters.env): Failed to open stream: No such file or directory in /home/odun/starters/loadenv.php on line 5
[19-Oct-2024 18:45:18 UTC] PHP Fatal error:  Uncaught Error: Call to private Database::__construct() from scope User in /home/odun/starters/Model/user.php:9
Stack trace:
#0 /home/odun/starters/Controllers/auth.php(12): User->__construct()
#1 /home/odun/starters/Routes/api.php(8): AuthController->__construct()
#2 /home/odun/starters/index.php(10): require_once('...')
#3 {main}
  thrown in /home/odun/starters/Model/user.php on line 9
[19-Oct-2024 18:47:59 UTC] PHP Fatal error:  Uncaught Error: Call to private Database::__construct() from scope Product in /home/odun/starters/Model/products.php:10
Stack trace:
#0 /home/odun/starters/Controllers/productscontroller.php(11): Product->__construct()
#1 /home/odun/starters/Routes/api.php(9): ProductsController->__construct()
#2 /home/odun/starters/index.php(10): require_once('...')
#3 {main}
  thrown in /home/odun/starters/Model/products.php on line 10
[19-Oct-2024 21:25:53 UTC] PHP Fatal error:  Uncaught Error: Class "BaseController" not found in /home/odun/starters/Controllers/auth.php:8
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(10): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 8
[19-Oct-2024 21:37:35 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:10
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(10): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 10
[19-Oct-2024 21:37:45 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:10
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(10): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 10
[19-Oct-2024 21:42:58 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:10
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(5): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 10
[19-Oct-2024 21:43:03 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:10
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(5): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 10
[19-Oct-2024 21:43:14 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:10
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(5): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 10
[19-Oct-2024 21:43:16 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:10
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(5): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 10
[19-Oct-2024 21:47:30 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\BaseController" not found in /home/odun/starters/Controllers/auth.php:9
Stack trace:
#0 /home/odun/starters/Routes/api.php(3): require_once()
#1 /home/odun/starters/index.php(5): require_once('...')
#2 {main}
  thrown in /home/odun/starters/Controllers/auth.php on line 9
[19-Oct-2024 22:03:34 UTC] PHP Warning:  require_once(/home/odun/starters/Routes/api.php): Failed to open stream: No such file or directory in /home/odun/starters/index.php on line 5
[19-Oct-2024 22:03:34 UTC] PHP Fatal error:  Uncaught Error: Failed opening required '/home/odun/starters/Routes/api.php' (include_path='.:/usr/share/php') in /home/odun/starters/index.php:5
Stack trace:
#0 {main}
  thrown in /home/odun/starters/index.php on line 5
[19-Oct-2024 22:07:38 UTC] PHP Warning:  require_once(/home/odun/starters/routes/../Controllers/auth.php): Failed to open stream: No such file or directory in /home/odun/starters/routes/api.php on line 3
[19-Oct-2024 22:07:38 UTC] PHP Fatal error:  Uncaught Error: Failed opening required '/home/odun/starters/routes/../Controllers/auth.php' (include_path='.:/usr/share/php') in /home/odun/starters/routes/api.php:3
Stack trace:
#0 /home/odun/starters/index.php(11): require_once()
#1 {main}
  thrown in /home/odun/starters/routes/api.php on line 3
[19-Oct-2024 22:09:11 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\AuthController" not found in /home/odun/starters/routes/api.php:7
Stack trace:
#0 /home/odun/starters/index.php(11): require_once()
#1 {main}
  thrown in /home/odun/starters/routes/api.php on line 7
[19-Oct-2024 22:12:25 UTC] PHP Fatal error:  Uncaught Error: Class "Model\User" not found in /home/odun/starters/controllers/AuthController.php:16
Stack trace:
#0 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#1 /home/odun/starters/index.php(11): require_once('...')
#2 {main}
  thrown in /home/odun/starters/controllers/AuthController.php on line 16
[19-Oct-2024 22:14:34 UTC] PHP Fatal error:  Uncaught Error: Class "Models\User" not found in /home/odun/starters/controllers/AuthController.php:16
Stack trace:
#0 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#1 /home/odun/starters/index.php(11): require_once('...')
#2 {main}
  thrown in /home/odun/starters/controllers/AuthController.php on line 16
[19-Oct-2024 22:15:06 UTC] PHP Fatal error:  Uncaught Error: Class "Models\User" not found in /home/odun/starters/controllers/AuthController.php:16
Stack trace:
#0 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#1 /home/odun/starters/index.php(11): require_once('...')
#2 {main}
  thrown in /home/odun/starters/controllers/AuthController.php on line 16
[19-Oct-2024 22:15:08 UTC] PHP Fatal error:  Uncaught Error: Class "Models\User" not found in /home/odun/starters/controllers/AuthController.php:16
Stack trace:
#0 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#1 /home/odun/starters/index.php(11): require_once('...')
#2 {main}
  thrown in /home/odun/starters/controllers/AuthController.php on line 16
[19-Oct-2024 22:15:17 UTC] PHP Fatal error:  Uncaught Error: Class "Models\User" not found in /home/odun/starters/controllers/AuthController.php:16
Stack trace:
#0 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#1 /home/odun/starters/index.php(11): require_once('...')
#2 {main}
  thrown in /home/odun/starters/controllers/AuthController.php on line 16
[19-Oct-2024 22:15:19 UTC] PHP Fatal error:  Uncaught Error: Class "Models\User" not found in /home/odun/starters/controllers/AuthController.php:16
Stack trace:
#0 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#1 /home/odun/starters/index.php(11): require_once('...')
#2 {main}
  thrown in /home/odun/starters/controllers/AuthController.php on line 16
[19-Oct-2024 22:16:27 UTC] PHP Warning:  require_once(/home/odun/starters/database/vendor/autoload.php): Failed to open stream: No such file or directory in /home/odun/starters/database/Database.php on line 5
[19-Oct-2024 22:16:27 UTC] PHP Fatal error:  Uncaught Error: Failed opening required '/home/odun/starters/database/vendor/autoload.php' (include_path='.:/usr/share/php') in /home/odun/starters/database/Database.php:5
Stack trace:
#0 /home/odun/starters/vendor/composer/ClassLoader.php(576): include()
#1 /home/odun/starters/vendor/composer/ClassLoader.php(427): Composer\Autoload\{closure}()
#2 /home/odun/starters/models/User.php(14): Composer\Autoload\ClassLoader->loadClass()
#3 /home/odun/starters/controllers/AuthController.php(16): Models\User->__construct()
#4 /home/odun/starters/routes/api.php(7): Controllers\AuthController->__construct()
#5 /home/odun/starters/index.php(11): require_once('...')
#6 {main}
  thrown in /home/odun/starters/database/Database.php on line 5
[19-Oct-2024 22:16:51 UTC] PHP Fatal error:  Uncaught Error: Class "Controllers\ProductsController" not found in /home/odun/starters/routes/api.php:8
Stack trace:
#0 /home/odun/starters/index.php(11): require_once()
#1 {main}
  thrown in /home/odun/starters/routes/api.php on line 8
[19-Oct-2024 22:39:11 UTC] PHP Fatal error:  Uncaught TypeError: call_user_func(): Argument #1 ($callback) must be a valid callback, non-static method Controllers\AuthController::register() cannot be called statically in /home/odun/starters/routes/api.php:52
Stack trace:
#0 /home/odun/starters/index.php(11): require_once()
#1 {main}
  thrown in /home/odun/starters/routes/api.php on line 52
[19-Oct-2024 22:42:38 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:48:51 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:49:12 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:50:33 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:50:39 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:52:11 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:52:36 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:53:25 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/ProductController.php on line 4
[19-Oct-2024 22:56:46 UTC] PHP Fatal error:  Namespace declaration statement has to be the very first statement or after any declare call in the script in /home/odun/starters/controllers/WarehouseController.php on line 4
[20-Oct-2024 01:47:53 UTC] Array
(
    [form_data] => Array
        (
            [name] => Product 3
            [location] => 1
            [vendor] => 1
            [code] => PROD003
            [sku] => SKU003
            [barcode] => 1234567890125
            [price] => 10
            [quantity] => 100
            [unit] => unit
            [media] => 
        )

    [files] => Array
        (
        )

)

[20-Oct-2024 01:51:13 UTC] Retrieved products for warehouse ID:
[20-Oct-2024 01:59:49 UTC] Retrieved products for warehouse ID:
[19-Jan-2025 18:15:35 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[19-Jan-2025 18:17:33 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":"beef"}
[19-Jan-2025 18:22:59 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[21-Jan-2025 11:47:03 UTC] Error: Undefined array key "email" in /workspace/starters/app/controllers/AuthController.php on line 53
[21-Jan-2025 12:17:43 UTC] Exception: Failed to orders: SQLSTATE[HY093]: Invalid parameter number: :search
[21-Jan-2025 12:59:46 UTC] Exception: Failed to insert sales order: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "4"
CONTEXT:  unnamed portal parameter $3 = '...'
[21-Jan-2025 13:02:12 UTC] Exception: Failed to insert sales order: SQLSTATE[23503]: Foreign key violation: 7 ERROR:  insert or update on table "sales_orders" violates foreign key constraint "sales_orders_assigned_driver_id_fkey"
DETAIL:  Key (assigned_driver_id)=(76da6901-b6ab-460f-b78a-d18757a368fc) is not present in table "users".
[21-Jan-2025 13:03:18 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "3"
CONTEXT:  unnamed portal parameter $2 = '...'
[21-Jan-2025 13:08:02 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "3"
CONTEXT:  unnamed portal parameter $2 = '...'
[21-Jan-2025 13:10:04 UTC] {"order_type":"order","order_title":"Office Supplies Purchase","customer_id":"fbdd13c5-6064-416c-a5d2-a9b134387592","payment_method_id":"8da41adb-619a-4244-ba82-641a7a5599bb","payment_term_id":"8b6297ec-42dc-4d2c-84b8-397f8df7aaad","delivery_option":"delivery","assigned_driver_id":"78ed5adf-e9ca-4acc-b276-11e095ceae6d","delivery_date":"2024-12-05","delivery_time":"13:12","delivery_address":"An address","additional_note":"Ensure to be available for delivery.","customer_note":"Thank You For Your Business","discount":5,"delivery_charge":50,"total":1050,"items":[{"item_id":3,"quantity":10,"price":100},{"item_id":4,"quantity":5,"price":50}],"user_id":"c5721736-2250-4827-80c7-6d2a47aec057"}
[21-Jan-2025 13:10:06 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "3"
CONTEXT:  unnamed portal parameter $2 = '...'
[21-Jan-2025 13:12:07 UTC] {"order_type":"order","order_title":"Office Supplies Purchase","customer_id":"fbdd13c5-6064-416c-a5d2-a9b134387592","payment_method_id":"8da41adb-619a-4244-ba82-641a7a5599bb","payment_term_id":"8b6297ec-42dc-4d2c-84b8-397f8df7aaad","delivery_option":"delivery","assigned_driver_id":"78ed5adf-e9ca-4acc-b276-11e095ceae6d","delivery_date":"2024-12-05","delivery_time":"13:12","delivery_address":"An address","additional_note":"Ensure to be available for delivery.","customer_note":"Thank You For Your Business","discount":5,"delivery_charge":50,"total":1050,"items":[{"item_id":3,"quantity":10,"price":100},{"item_id":4,"quantity":5,"price":50}]}
[21-Jan-2025 13:12:07 UTC] {"order_type":"order","order_title":"Office Supplies Purchase","customer_id":"fbdd13c5-6064-416c-a5d2-a9b134387592","payment_method_id":"8da41adb-619a-4244-ba82-641a7a5599bb","payment_term_id":"8b6297ec-42dc-4d2c-84b8-397f8df7aaad","delivery_option":"delivery","assigned_driver_id":"78ed5adf-e9ca-4acc-b276-11e095ceae6d","delivery_date":"2024-12-05","delivery_time":"13:12","delivery_address":"An address","additional_note":"Ensure to be available for delivery.","customer_note":"Thank You For Your Business","discount":5,"delivery_charge":50,"total":1050,"items":[{"item_id":3,"quantity":10,"price":100},{"item_id":4,"quantity":5,"price":50}],"user_id":"c5721736-2250-4827-80c7-6d2a47aec057"}
[21-Jan-2025 13:12:10 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "3"
CONTEXT:  unnamed portal parameter $2 = '...'
[21-Jan-2025 13:13:11 UTC] {"order_type":"order","order_title":"Office Supplies Purchase","customer_id":"fbdd13c5-6064-416c-a5d2-a9b134387592","payment_method_id":"8da41adb-619a-4244-ba82-641a7a5599bb","payment_term_id":"8b6297ec-42dc-4d2c-84b8-397f8df7aaad","delivery_option":"delivery","assigned_driver_id":"78ed5adf-e9ca-4acc-b276-11e095ceae6d","delivery_date":"2024-12-05","delivery_time":"13:12","delivery_address":"An address","additional_note":"Ensure to be available for delivery.","customer_note":"Thank You For Your Business","discount":5,"delivery_charge":50,"total":1050,"items":[{"item_id":3,"quantity":10,"price":100},{"item_id":4,"quantity":5,"price":50}],"user_id":"c5721736-2250-4827-80c7-6d2a47aec057"}
[21-Jan-2025 13:13:13 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "3"
CONTEXT:  unnamed portal parameter $2 = '...'
[21-Jan-2025 13:14:19 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[21-Jan-2025 13:15:16 UTC] {"order_type":"order","order_title":"Office Supplies Purchase","customer_id":"fbdd13c5-6064-416c-a5d2-a9b134387592","payment_method_id":"8da41adb-619a-4244-ba82-641a7a5599bb","payment_term_id":"8b6297ec-42dc-4d2c-84b8-397f8df7aaad","delivery_option":"delivery","assigned_driver_id":"78ed5adf-e9ca-4acc-b276-11e095ceae6d","delivery_date":"2024-12-05","delivery_time":"13:12","delivery_address":"An address","additional_note":"Ensure to be available for delivery.","customer_note":"Thank You For Your Business","discount":5,"delivery_charge":50,"total":1050,"items":[{"item_id":"05a07750-ae74-4d5a-af9a-6e882d3c65c7","quantity":10,"price":100},{"item_id":"09ded5a7-a57a-474b-8fab-8618a8155787","quantity":5,"price":50}],"user_id":"c5721736-2250-4827-80c7-6d2a47aec057"}
[21-Jan-2025 13:15:18 UTC] Exception: SQLSTATE[23503]: Foreign key violation: 7 ERROR:  insert or update on table "sales_order_items" violates foreign key constraint "sales_order_items_item_id_fkey"
DETAIL:  Key (item_id)=(05a07750-ae74-4d5a-af9a-6e882d3c65c7) is not present in table "price_lists".
[21-Jan-2025 13:16:38 UTC] {"order_type":"order","order_title":"Office Supplies Purchase","customer_id":"fbdd13c5-6064-416c-a5d2-a9b134387592","payment_method_id":"8da41adb-619a-4244-ba82-641a7a5599bb","payment_term_id":"8b6297ec-42dc-4d2c-84b8-397f8df7aaad","delivery_option":"delivery","assigned_driver_id":"78ed5adf-e9ca-4acc-b276-11e095ceae6d","delivery_date":"2024-12-05","delivery_time":"13:12","delivery_address":"An address","additional_note":"Ensure to be available for delivery.","customer_note":"Thank You For Your Business","discount":5,"delivery_charge":50,"total":1050,"items":[{"item_id":"f2150f75-8a52-4d61-8a89-370e539a46d0","quantity":10,"price":100},{"item_id":"1b2c630d-03be-4ff8-904e-04de40fc6e88","quantity":5,"price":50}],"user_id":"c5721736-2250-4827-80c7-6d2a47aec057"}
[21-Jan-2025 13:28:07 UTC] Page: 1, PageSize: 10, Status: received, Date: 2025-01-21, Search: , OrderType: , SortBy: delivery_date, Order: DESC
[21-Jan-2025 13:29:18 UTC] Page: 1, PageSize: 10, Status: , Date: 2025-01-21, Search: , OrderType: , SortBy: delivery_date, Order: DESC
[21-Jan-2025 13:30:27 UTC] Page: 1, PageSize: 10, Status: new order, Date: 2025-01-21, Search: , OrderType: , SortBy: delivery_date, Order: DESC
[21-Jan-2025 13:37:44 UTC] Executing Query: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status = :status AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
             so.order_type, so.discount, so.delivery_charge, so.total, 
             so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT :page_size OFFSET :offset

[21-Jan-2025 13:37:44 UTC] With Params: Array
(
    [:status] => new order
    [:date] => 2025-01-21
    [:page_size] => 10
    [:offset] => 0
)

[21-Jan-2025 13:38:13 UTC] Executing Query: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
             so.order_type, so.discount, so.delivery_charge, so.total, 
             so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT :page_size OFFSET :offset

[21-Jan-2025 13:38:13 UTC] With Params: Array
(
    [:date] => 2025-01-21
    [:page_size] => 10
    [:offset] => 0
)

[21-Jan-2025 13:40:30 UTC] Executing Query: 
            SELECT so.id,
                so.invoice_number,
                so.reference_number,
                so.order_title,
                so.order_type,
                c.display_name AS customer_name,
                c.email AS customer_email,
                so.discount,
                so.delivery_charge,
                so.total,
                so.created_at AS invoice_date,
                so.delivery_date,
                so.status,
                so.processed_by,
                json_agg(
                    json_build_object(
                        'item_id', p.id,
                        'item_name', p.item_details,
                        'quantity', soi.quantity,
                        'price', soi.price,
                        'amount', soi.quantity * soi.price
                    )
                ) AS items
            FROM sales_orders so
            LEFT JOIN customers c ON so.customer_id = c.id
            LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
            LEFT JOIN price_lists p ON soi.item_id = p.id
            WHERE 1=1
         AND so.status IN ('new order', 'in progress', 'completed')
        GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
                 so.order_type, so.discount, so.delivery_charge, so.total, 
                 so.created_at, so.delivery_date, so.status, so.processed_by
        ORDER BY so.delivery_date DESC
        LIMIT :page_size OFFSET :offset
    
[21-Jan-2025 13:40:30 UTC] With Params: Array
(
    [:page_size] => 10
    [:offset] => 0
)

[21-Jan-2025 13:51:31 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 13:53:19 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 13:53:27 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 13:55:20 UTC] PHP Fatal error:  Cannot redeclare Models\Sale::getNewOrders() in /workspace/starters/app/models/Sale.php on line 659
[21-Jan-2025 13:55:20 UTC] Fatal Error: Cannot redeclare Models\Sale::getNewOrders() in /workspace/starters/app/models/Sale.php on line 659
[21-Jan-2025 13:56:25 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 13:57:40 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 13:57:48 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:00:12 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:10:46 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:12:27 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:13:50 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:13:57 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:15:26 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:16:26 UTC] Array
(
    [search] => 
    [page] => 1
    [page_size] => 10
    [status] => 
    [order_type] => 
    [date] => 2025-01-21
)

[21-Jan-2025 14:16:26 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:18:52 UTC] Final query in getNewOrders: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
            so.order_type, so.discount, so.delivery_charge, so.total, 
            so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT 10 OFFSET 0

[21-Jan-2025 14:18:52 UTC] Parameters: Array
(
    [:date] => 2025-01-21
)

[21-Jan-2025 14:18:53 UTC] Error: Undefined array key "meta" in /workspace/starters/app/controllers/KitchenController.php on line 36
[21-Jan-2025 14:19:27 UTC] Final query in getNewOrders: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
            so.order_type, so.discount, so.delivery_charge, so.total, 
            so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT 10 OFFSET 0

[21-Jan-2025 14:19:27 UTC] Parameters: Array
(
    [:date] => 2025-01-21
)

[21-Jan-2025 14:19:28 UTC] Error: Undefined array key "meta" in /workspace/starters/app/controllers/KitchenController.php on line 36
[21-Jan-2025 14:19:47 UTC] Final query in getNewOrders: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
            so.order_type, so.discount, so.delivery_charge, so.total, 
            so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT 10 OFFSET 0

[21-Jan-2025 14:19:47 UTC] Parameters: Array
(
    [:date] => 2025-01-21
)

[21-Jan-2025 14:24:24 UTC] Final query in getNewOrders: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
            so.order_type, so.discount, so.delivery_charge, so.total, 
            so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT :page_size OFFSET :offset

[21-Jan-2025 14:24:24 UTC] Parameters: Array
(
    [:date] => 2025-01-21
    [:page_size] => 10
    [:offset] => 0
)

[21-Jan-2025 14:24:24 UTC] Final count query in getCount: 
    SELECT COUNT(DISTINCT so.id)
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
[21-Jan-2025 14:24:24 UTC] Parameters: Array
(
    [:date] => 2025-01-21
    [:page_size] => 10
    [:offset] => 0
)

[21-Jan-2025 14:24:24 UTC] Exception: Failed to fetch orders: Failed to fetch orders count: SQLSTATE[HY093]: Invalid parameter number: :page_size
[21-Jan-2025 14:25:18 UTC] Final count query in getCount: 
    SELECT COUNT(DISTINCT so.id)
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
[21-Jan-2025 14:25:18 UTC] Parameters: Array
(
    [:date] => 2025-01-21
)

[21-Jan-2025 14:25:19 UTC] Final query in getNewOrders: 
    SELECT so.id,
        so.invoice_number,
        so.reference_number,
        so.order_title,
        so.order_type,
        c.display_name AS customer_name,
        c.email AS customer_email,
        so.discount,
        so.delivery_charge,
        so.total,
        so.created_at AS invoice_date,
        so.delivery_date,
        so.status,
        so.processed_by,
        json_agg(
            json_build_object(
                'item_id', p.id,
                'item_name', p.item_details,
                'quantity', soi.quantity,
                'price', soi.price,
                'amount', soi.quantity * soi.price
            )
        ) AS items
    FROM sales_orders so
    LEFT JOIN customers c ON so.customer_id = c.id
    LEFT JOIN sales_order_items soi ON soi.sales_order_id = so.id
    LEFT JOIN price_lists p ON soi.item_id = p.id
    WHERE 1=1
 AND so.status IN ('new order', 'in progress', 'completed') AND DATE(so.created_at) = :date
    GROUP BY so.id, c.display_name, c.email, so.invoice_number, so.order_title,
            so.order_type, so.discount, so.delivery_charge, so.total, 
            so.created_at, so.delivery_date, so.status, so.processed_by
    ORDER BY so.delivery_date DESC
    LIMIT :page_size OFFSET :offset

[21-Jan-2025 14:25:19 UTC] Parameters: Array
(
    [:date] => 2025-01-21
    [:page_size] => 10
    [:offset] => 0
)

[22-Jan-2025 05:04:08 UTC] Failed to fetch assigned orders: SQLSTATE[42703]: Undefined column: 7 ERROR:  column u.first_name does not exist
LINE 4:                    CONCAT(u.first_name, ' ', u.last_name) AS...
                                  ^
HINT:  Perhaps you meant to reference the column "u.firstname".
[22-Jan-2025 05:04:08 UTC] Exception: Failed to fetch assigned orders.
[22-Jan-2025 05:06:43 UTC] Failed to fetch assigned orders: SQLSTATE[42703]: Undefined column: 7 ERROR:  column u.first_name does not exist
LINE 20:                      u.first_name, u.last_name
                              ^
HINT:  Perhaps you meant to reference the column "u.firstname".
[22-Jan-2025 05:06:43 UTC] Exception: Failed to fetch assigned orders.
[22-Jan-2025 05:10:42 UTC] Failed to fetch assigned orders: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "1"
CONTEXT:  unnamed portal parameter $1 = '...'
[22-Jan-2025 05:10:42 UTC] Exception: Failed to fetch assigned orders.
[22-Jan-2025 09:21:21 UTC] Error: Undefined array key "user_id" in /workspace/starters/app/controllers/BaseController.php on line 213
[22-Jan-2025 09:22:36 UTC] Error: Undefined array key "user_id" in /workspace/starters/app/controllers/BaseController.php on line 213
[22-Jan-2025 09:22:46 UTC] Error: Undefined array key "user_id" in /workspace/starters/app/controllers/BaseController.php on line 213
[22-Jan-2025 09:24:31 UTC] Error: Undefined array key "form_data" in /workspace/starters/app/controllers/BaseController.php on line 216
[22-Jan-2025 09:25:08 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:25:08 UTC] Sending HTTP request to https://localhost:9091/send-notification/
[22-Jan-2025 09:25:08 UTC] Error sending notification: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for https://localhost:9091/send-notification/
[22-Jan-2025 09:25:08 UTC] Exception: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for https://localhost:9091/send-notification/
[22-Jan-2025 09:26:29 UTC] Exception: Call to a member function prepare() on null
[22-Jan-2025 09:27:04 UTC] Exception: Call to a member function prepare() on null
[22-Jan-2025 09:28:47 UTC] Exception: Call to a member function prepare() on null
[22-Jan-2025 09:29:47 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:29:47 UTC] Sending HTTP request to localhost:9091/send-notification/
[22-Jan-2025 09:29:47 UTC] Error sending notification: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for http://localhost:9091/send-notification/
[22-Jan-2025 09:29:47 UTC] Exception: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for http://localhost:9091/send-notification/
[22-Jan-2025 09:32:18 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:32:18 UTC] Sending HTTP request to http://localhost:9091/send-notification/
[22-Jan-2025 09:32:18 UTC] Error sending notification: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for http://localhost:9091/send-notification/
[22-Jan-2025 09:32:18 UTC] Exception: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for http://localhost:9091/send-notification/
[22-Jan-2025 09:36:13 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:36:13 UTC] Sending HTTP request to http://localhost:9091/send-notification/
[22-Jan-2025 09:36:13 UTC] Exception: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for http://localhost:9091/send-notification/
[22-Jan-2025 09:37:19 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:37:19 UTC] Sending HTTP request to http://localhost:9091/send-notification/
[22-Jan-2025 09:37:19 UTC] Exception: cURL error 7: Failed to connect to localhost port 9091 after 0 ms: Couldn't connect to server (see https://curl.haxx.se/libcurl/c/libcurl-errors.html) for http://localhost:9091/send-notification/
[22-Jan-2025 09:38:05 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:38:05 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[22-Jan-2025 09:38:06 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "1"
CONTEXT:  unnamed portal parameter $2 = '...'
[22-Jan-2025 09:40:16 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:40:16 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[22-Jan-2025 09:40:16 UTC] Error sending HTTP request: Client error: `POST http://websocket:9091/send-notification/` resulted in a `422 Unprocessable Entity` response:
{"detail":[{"type":"string_type","loc":["body","entity_id"],"msg":"Input should be a valid string","input":null}]}

[22-Jan-2025 09:41:25 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:41:25 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[22-Jan-2025 09:41:25 UTC] Error sending HTTP request: Client error: `POST http://websocket:9091/send-notification/` resulted in a `422 Unprocessable Entity` response:
{"detail":[{"type":"string_type","loc":["body","entity_id"],"msg":"Input should be a valid string","input":null}]}

[22-Jan-2025 09:41:46 UTC] Sending notification to user 87505cfc-497d-4bde-bf98-81b35751607d via HTTP
[22-Jan-2025 09:41:46 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[27-Jan-2025 14:50:27 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"DESC","search":"1test"}
[27-Jan-2025 14:50:40 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"DESC","search":""}
[28-Jan-2025 08:34:38 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[28-Jan-2025 08:37:54 UTC] Vendor ID: d31e7517-e1e9-4f89-aee2-21ecbc4f84d9
[28-Jan-2025 08:50:11 UTC] Vendor ID: d31e7517-e1e9-4f89-aee2-21ecbc4f84d9
[28-Jan-2025 08:51:31 UTC] Vendor ID: d31e7517-e1e9-4f89-aee2-21ecbc4f84d9
[28-Jan-2025 08:52:01 UTC] Vendor ID: d31e7517-e1e9-4f89-aee2-21ecbc4f84d9
[28-Jan-2025 08:53:21 UTC] Exception: SQLSTATE[23503]: Foreign key violation: 7 ERROR:  insert or update on table "vendors" violates foreign key constraint "vendors_payment_term_id_fkey"
DETAIL:  Key (payment_term_id)=(d8ff9a11-8103-43b4-8cdb-4be1b498b11d) is not present in table "payment_terms".
[28-Jan-2025 09:01:43 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "1"
CONTEXT:  unnamed portal parameter $13 = '...'
[28-Jan-2025 09:11:48 UTC] Exception: Failed to insert sales order: SQLSTATE[23503]: Foreign key violation: 7 ERROR:  insert or update on table "sales_orders" violates foreign key constraint "sales_orders_customer_id_fkey"
DETAIL:  Key (customer_id)=(fbdd13c5-6064-416c-a5d2-a9b134387592) is not present in table "customers".
[28-Jan-2025 09:15:10 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[28-Jan-2025 09:32:04 UTC] SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at end of input
LINE 23:         
                 ^
[28-Jan-2025 09:32:26 UTC] SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at end of input
LINE 23:         
                 ^
[28-Jan-2025 09:33:11 UTC] SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at end of input
LINE 23:         
                 ^
[28-Jan-2025 09:52:08 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[28-Jan-2025 09:53:54 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"DESC","search":""}
[28-Jan-2025 09:55:33 UTC] Exception: PDOStatement::bindParam(): Argument #2 ($var) could not be passed by reference
[28-Jan-2025 10:14:55 UTC] Exception: SQLSTATE[42703]: Undefined column: 7 ERROR:  column r.role does not exist
LINE 35:                                 'role', r.role,
                                                 ^
[28-Jan-2025 10:24:23 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: ""
CONTEXT:  unnamed portal parameter $1 = ''
[28-Jan-2025 10:24:34 UTC] Error: Undefined global variable $_SESSION in /workspace/starters/app/controllers/BaseController.php on line 235
[28-Jan-2025 10:27:00 UTC] Error: Undefined global variable $_SESSION in /workspace/starters/app/controllers/BaseController.php on line 235
[28-Jan-2025 10:28:02 UTC] Error: Undefined global variable $_SESSION in /workspace/starters/app/controllers/BaseController.php on line 237
[28-Jan-2025 11:41:43 UTC] Error: Undefined global variable $_SESSION in /workspace/starters/app/controllers/BaseController.php on line 237
[28-Jan-2025 11:42:50 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: ""
CONTEXT:  unnamed portal parameter $1 = ''
[31-Jan-2025 12:47:55 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[31-Jan-2025 12:48:44 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[31-Jan-2025 15:35:42 UTC] SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "2"
CONTEXT:  unnamed portal parameter $8 = '...'
[04-Feb-2025 14:32:25 UTC] Exception: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "1"
CONTEXT:  unnamed portal parameter $5 = '...'
[04-Feb-2025 14:33:02 UTC] Exception: SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint "price_lists_item_details_key"
DETAIL:  Key (item_details)=(Croissant) already exists.
[04-Feb-2025 14:48:38 UTC] {"item_category_id":"d5942d30-5e1b-4c89-a0dd-c2ac5194d53d","item_details":"Croissant20","unit_price":30.5,"minimum_order":100,"unit_id":"62c7560c-a61e-4408-96e2-ac889efbacbb","id":"4be53e1f-cd72-4692-9a45-694e7281504b"}
[04-Feb-2025 17:13:57 UTC] Sending notification to user 280de5f3-2707-4e3a-bfa5-515bc3c3ba94 via HTTP
[04-Feb-2025 17:13:57 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 18:11:11 UTC] SQLSTATE[42601]: Syntax error: 7 ERROR:  syntax error at or near "FROM"
LINE 12:             FROM item_stocks its
                     ^
[04-Feb-2025 19:27:49 UTC] Sending notification to user 280de5f3-2707-4e3a-bfa5-515bc3c3ba94 via HTTP
[04-Feb-2025 19:27:49 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 19:28:16 UTC] Sending notification to user 280de5f3-2707-4e3a-bfa5-515bc3c3ba94 via HTTP
[04-Feb-2025 19:28:16 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 19:28:58 UTC] Sending notification to user 280de5f3-2707-4e3a-bfa5-515bc3c3ba94 via HTTP
[04-Feb-2025 19:28:58 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 20:13:12 UTC] 23198de3-f806-4952-ba8e-6e8f3c28f2ed
[04-Feb-2025 20:13:14 UTC] Sending notification to user 5b2b4453-e7a5-42f7-b2df-bfcafb026e74 via HTTP
[04-Feb-2025 20:13:14 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 20:14:13 UTC] 23198de3-f806-4952-ba8e-6e8f3c28f2ed
[04-Feb-2025 20:14:15 UTC] Sending notification to user 5b2b4453-e7a5-42f7-b2df-bfcafb026e74 via HTTP
[04-Feb-2025 20:14:15 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 20:15:16 UTC] 23198de3-f806-4952-ba8e-6e8f3c28f2ed
[04-Feb-2025 20:15:18 UTC] Sending notification to user 5b2b4453-e7a5-42f7-b2df-bfcafb026e74 via HTTP
[04-Feb-2025 20:15:18 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 20:16:40 UTC] 23198de3-f806-4952-ba8e-6e8f3c28f2ed
[04-Feb-2025 20:16:42 UTC] Sending notification to user 5b2b4453-e7a5-42f7-b2df-bfcafb026e74 via HTTP
[04-Feb-2025 20:16:42 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 20:17:36 UTC] Exception: SQLSTATE[23503]: Foreign key violation: 7 ERROR:  insert or update on table "purchase_orders" violates foreign key constraint "purchase_orders_vendor_id_fkey"
DETAIL:  Key (vendor_id)=(d31e7517-e1e9-4f89-aee2-21ecbc4f84d9) is not present in table "vendors".
[04-Feb-2025 20:21:56 UTC] {"availability":null,"page":1,"page_size":10,"order":null,"sort":"ASC","search":""}
[04-Feb-2025 20:23:31 UTC] Exception: SQLSTATE[23503]: Foreign key violation: 7 ERROR:  insert or update on table "purchase_orders" violates foreign key constraint "purchase_orders_vendor_id_fkey"
DETAIL:  Key (vendor_id)=(4d21b6ac-3019-4e89-a487-d22eeddf8284) is not present in table "vendors".
[04-Feb-2025 20:26:06 UTC] Array
(
    [id] => 5b2b4453-e7a5-42f7-b2df-bfcafb026e74
    [email] => odun@aiq.com
    [username] => 
    [password] => password
    [firstname] => Babanla
    [lastname] => Odunlami
    [name] => Babanla Odunlami
    [avatar_url] => https://i.imgur.com/0GY9tnz.jpeg
    [date_of_birth] => 1992-08-10
    [address] => 789 Pine St, Villageville
    [next_of_kin] => Emily Brown
    [date_of_employment] => 2019-02-18
    [department_id] => 89fdce97-0166-4dc3-af44-ef580e7a73df
    [role_id] => 0a55bff5-a90e-42f7-a7fc-e7566454179c
    [no_of_working_days_id] => 
    [salary] => 2800.00
    [bank_details] => {"bank_name": "Bank LMN", "account_number": "1112233445"}
    [leave] => 2023-05-15
    [nin] => https://i.imgur.com/EF3456789E.jpeg
    [passport] => https://i.imgur.com/C3456789.jpeg
    [status] => active
    [created_at] => 2025-02-01 15:02:05.672764+00
    [updated_at] => 2025-02-01 15:02:05.672764+00
)

[04-Feb-2025 20:35:56 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 79
[04-Feb-2025 20:37:50 UTC] User: {"id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","email":"starters@admin.com","username":null,"password":"password123","firstname":"Starters","lastname":"Admin","name":"Starters Admin","avatar_url":"https:\/\/i.imgur.com\/0GY9tnz.jpeg","date_of_birth":null,"address":null,"next_of_kin":null,"date_of_employment":null,"department_id":null,"role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2","no_of_working_days_id":null,"salary":null,"bank_details":null,"leave":null,"nin":"https:\/\/i.imgur.com\/AB1234567C.jpeg","passport":"https:\/\/i.imgur.com\/A1234567.jpeg","status":"active","created_at":"2025-02-01 15:02:05.672764+00","updated_at":"2025-02-01 15:02:05.672764+00"}
[04-Feb-2025 20:39:06 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 79
[04-Feb-2025 20:46:05 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 82
[04-Feb-2025 20:47:08 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 20:47:13 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 20:48:09 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 20:48:14 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 20:52:52 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 20:52:57 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 20:53:35 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 20:53:41 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 20:54:08 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 20:54:13 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 20:59:06 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 20:59:13 UTC] Error: Undefined array key "name" in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 21:09:13 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 21:09:18 UTC] Exception: Controllers\BaseController::findRecord(): Argument #2 ($id) must be of type int, string given, called in /workspace/starters/app/controllers/TradeController.php on line 81
[04-Feb-2025 21:10:00 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2"}
[04-Feb-2025 21:10:06 UTC] {"id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","email":"starters@admin.com","username":null,"password":"password123","firstname":"Starters","lastname":"Admin","name":"Starters Admin","avatar_url":"https:\/\/i.imgur.com\/0GY9tnz.jpeg","date_of_birth":null,"address":null,"next_of_kin":null,"date_of_employment":null,"department_id":null,"role_id":"6eb0b0a2-dcc9-4269-8c06-37b53c66e6b2","no_of_working_days_id":null,"salary":null,"bank_details":null,"leave":null,"nin":"https:\/\/i.imgur.com\/AB1234567C.jpeg","passport":"https:\/\/i.imgur.com\/A1234567.jpeg","status":"active","created_at":"2025-02-01 15:02:05.672764+00","updated_at":"2025-02-01 15:02:05.672764+00"}
[04-Feb-2025 21:10:06 UTC] {"user_id":"5b2b4453-e7a5-42f7-b2df-bfcafb026e74","event":"notification","entity_id":"d8671ec8-c8c4-432e-895c-4bce2d977d48","entity_type":"purchase_order","title":"New Purchase Order","body":"Starters Admin has created a new purchase order"}
[04-Feb-2025 21:10:06 UTC] Sending notification to user 5b2b4453-e7a5-42f7-b2df-bfcafb026e74 via HTTP
[04-Feb-2025 21:10:06 UTC] Sending HTTP request to http://websocket:9091/send-notification/
[04-Feb-2025 21:21:29 UTC] {"user_id":"280de5f3-2707-4e3a-bfa5-515bc3c3ba94","event":"notification","entity_id":"692fb56a-ab6c-4b46-8070-801ff1072936","entity_type":"purchase_order","title":"New Purchase Order","body":"Starters Admin has created a new purchase order"}
[04-Feb-2025 21:21:29 UTC] Sending notification to user 280de5f3-2707-4e3a-bfa5-515bc3c3ba94 via HTTP
[04-Feb-2025 21:21:29 UTC] Sending HTTP request to http://websocket:9091/send-notification/
